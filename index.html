<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Выпускной альбом ШРИ-2013</title>
	<script type="text/javascript" data-main="js/init.js" src="js/require.js"></script>
	<link rel="stylesheet" href="css/styles.css">
</head>
<body>
	<!-- Заголовок страницы -->
	<div class="header">
	</div>
	<!-- Основное меню -->
	<div class="b-line">
			<a class="b-logo" href="">
				<span class="b-logo__red_first">Я</span>ндекс 
			</a>
			<ul class="menu" data-bind="foreach: pages">
				<li class="menu__item">
					<a class="menu__link" href="#" data-bind="text: $data, click: $root.previewPage, css: { menu__link_current: $root.currentPage() == $data }"></a>
				</li>
			</ul>
	</div>
	<div class="b-content">
		<!-- Список выдачи студентов -->
		<div class="b-center b-students-list" data-bind="if: students">
			<div data-bind="template: {name: 'studentsList-template', data: $root}"></div>
			
		</div>
		<!-- Информая о студенте -->
		<div data-bind="if: chosenStudent">
			<div class="b-center b-student" data-bind="template: {name: 'studentTemplate', data: chosenStudent}">
			</div>
		</div>
		<!-- Лекции -->
		<div class="b-center b-lections" data-bind="if: lections">
			<div data-bind="template: {name: 'lectionsTemplate', data: $root}"></div>
			
		</div>
		<!-- О Шри -->
		<div class="shri" data-bind="if: shri">
			<div data-bind="with: shri">
				<div data-bind="text: info"></div>
				<div data-bind="text: details"></div>			
			</div>
		</div>	
	</div>
	<!-- Templates -->
	<!-- Lections template -->
	<script type="text/html" id="lectionsTemplate">
	<table class="b-lections-table">
				<tbody data-bind="foreach: lections">
				<tr class="b-lections__row">
					<td class="b-lections__cell b-lections__cell_first">
						<div class="b-circle b-date">
							<span class="b-date__month" data-bind="text: month"></span>
							<span class="b-date__day" data-bind="text: day"></span>
						</div>
					</td>
					<td class="b-lections__cell">
						<div class="b-lections__cell_title" data-bind="text: title"></div>
					</td>
					<td class="b-lections__cell">
						<div class="b-lections__cell_fio">
							<p class="b-first-red" data-bind="text: lector.first_name"></p>
							<p data-bind="text: lector.last_name"></p>
						</div>
					</td>
					<td class="b-lections__cell_last b-lections__cell">
						<div class="b-lections__cell_link">
							<div data-bind="if: video_url">
								<a data-bind="attr:{href: video_url}" href="">Видео</a>
							</div>
							<div data-bind="if: slides_url">
								<a data-bind="attr:{href: slides_url}" href="">Слайды</a>
							</div>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
 	</script>
	<!-- Student template -->
				 <!-- <img class="b-st-header__ava_img" data-bind="attr:{src: link_photo}" href=""></img> -->
 	<script type="text/html" id="studentTemplate">
		<div class="b-student__header">
			<div class="b-circle b-st-header__ava" data-bind="click: $root.showHideDetails">
				<img class="b-st-header__ava_img" data-bind="visible: true == $root.isVisibleDetails(), attr:{src: link_photo}" href=""></img> 
				<span class="b-st-header__ava_info" data-bind="visible: false == $root.isVisibleDetails()">i</span>
			</div>
			<div class="b-st-header__fio" data-bind="click: $root.showHideDetails">
				<span><strong data-bind=" text: first_name"></strong></span>
				<span><strong data-bind=" text: last_name"></strong></span>
			</div>
			<div class="b-st-header__socials">
				<div class="b-st-header__socials_vk" data-bind="if:link_vk">
					<a data-bind="attr:{href: link_vk}" data-bind href=""></a>
				</div>
				<div class="b-st-header__socials_git" data-bind="if:link_gihub">
					<a data-bind="attr:{href: link_gihub}" href=""></a>
				</div> 
			</div>
		</div>
		<div class="b-student__content">
			<div class="b-st-content__wrap">
				<img class="b-st-content__image" data-bind="attr:{src: link_photo}" src="" alt="">
			</div>
			<div class="b-student__details_show" data-bind="visible: $root.isVisibleDetails">
			<p class="b-student__details_info" data-bind="text: about">
			</p></div>
		</div>
		<div class="b-student__details">
			<p class="b-student__details_txt">тынц-тынц здесь будет что-то</p>
		</div>
 	</script>
 	<!-- Students List Template -->
 	<script type="text/html" id="studentsList-template">
 		<div class="b-search">
			<input class="b-search__input" placeholder="введите имя" data-bind="value: search, valueUpdate: 'afterkeydown'">
			<a href="#" class="b-search__button">Найти</a>
		</div>
		<hr class="b-divider">
		<table class="b-students__table">
			<tbody data-bind="foreach: studentsList">
				<tr class="b-students__row" data-bind="click: $root.previewStudent">
					<td class="b-students__cell b-students__cell_first">
						<div class="b-students__cell_ava">
							<img data-bind="attr:{src: link_photo}" src="http://cs309418.vk.me/v309418752/cc67/cjxo9lnG7cw.jpg" width="60px" height="60px" alt="">	
						</div>
					</td>
					<td class="b-students__cell">
						<div class="b-students__cell_fio">
							<p data-bind="text: first_name">Имя</p>
							<p data-bind="text: last_name">Фамилия</p>
						</div>
					</td>
					<td class="b-students__cell b-students__cell_last">
						<div class="b-students__cell_view">
							<a href="">Просмотр</a>
						</div>
					</td>
				</tr>
			</tbody>
		</table>
 	</script>
</body>
</html>